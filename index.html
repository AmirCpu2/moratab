<!doctype html>
<html>
<head>
	<title>مرتب</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="http://sobhe.ap01.aws.af.cm/css/IRMitra.css">
</head>
<body>
<style type="text/css">
body {
	font-family: IRMitra, Arial;
	font-size: 18px;
	line-height: 1.5;
	direction: rtl;
	background: #fff;
}
h1, h2, h3, h4 {
	font-family: IRMitra, Arial;
	font-weight: bold;
}

.container {
	max-width: 800px;
}

#moratab {
	min-height: 1200px;
	margin-top: 30px;
}
</style>

<div class="container">
	<div id="moratab"></div>
</div>

<script id="default" type="text">
# مرتب

متن *مرتب* یا [مارک‌دان]، نوشته‌ای است که شیوه نمایش آن با علامت‌های ساده‌ای مشخص شده است. یعنی شکل نمایش متن را لابه‌لای واژه‌ها می‌نویسید. مثلا *خاص* بودن یک عبارت و یا **تاکید** روی نکته‌ها با کمک ستاره انجام می‌شود.

> وقتی *مرتب* می‌نویسید، مطمئن هستید که چیزی در متن پنهان نشده. در مقابل نرم‌افزار [ورد] که گاهی می‌بینید نشان‌گر روی یک خط خالی ایستاده و به صورت *مورب* قرار گرفته؛ انگار چیزی آن زیر هست. راستش آن زیر، [چیز خیلی مزخرفی] هست.

نوشته‌های *مرتب* کاربردهای زیادی دارند:

+ [پرسیدن سوال](http://stackoverflow.com)
+ [بحث در مورد پروژه](https://github.com)
+ [وب‌نوشت](https://svbtle.com)
+ [گزارش پروژه](http://www.boute.ir)
+ ...

قرار دادن [پیوند]، پاورقی[^1] و یا حتی تصویر هم در این نوشتار پیش‌بینی شده:

![تصویر باز شکاری](http://www.sobhe.ir/baaz/img/goshawk.jpg)

## جدول
جدول *مرتب* شده هم بسیار بامزه است (نقطه‌ها چینش ستون را نشان می‌دهد):

| نوشتار    | بدون نیاز به آموزش | ویژگی‌های نامتناهی  |
|:-----|:-----------:|:------------:|
| مرتب      |              ✓              |                ✗               |
| ورد          |              ✗              |                ✓               |

## فرمول‌های ریاضی
در نوشته‌های تخصصی، فرمول‌های ریاضی هم لازم می‌شوند، که می‌توانید آنها را در قالب $ LaTeX $ بنویسید:

$$ P(E) = {n \choose k} p^k (1-p)^{ n-k} $$

## کد
اگر برنامه‌نویس هستید، تکه کد `Python` زیر، همین نوشته را به قالب `HTML` تبدیل می‌کند:

    >>> import moratab
    >>> moratab.render(content)

و بلاخره، نوشته [مرتب] با مشخص کردن آدرس پیوندها به پایان می‌رسد.

[مرتب]: http://www.sobhe.ir/moratab
[مارک‌دان]: https://daringfireball.net/projects/markdown
[پیوند]: http://peyvandha.ir
[ورد]: http://office.microsoft.com/en-us/word
[چیز خیلی مزخرفی]: http://www.antipope.org/charlie/blog-static/2013/10/why-microsoft-word-must-die.html
[^1]: پاورقی

</script>

<script src="marked.js"></script>
<script src="moratab.js"></script>
<script src="epiceditor.js"></script>

<script type="text/javascript">
marked.defaults = {
	renderer: moratab,
	gfm: true,
	tables: true,
	breaks: true,
	pedantic: false,
	sanitize: false,
	silent: false,
	highlight: null
};

var opts = {
	container: 'moratab',
	textarea: null,
	basePath: '',
	clientSideStorage: false,
	parser: marked,
	file: {
		name: 'moratab',
		defaultContent: document.getElementById('default').text.trim(),
	},
	theme: {
		base: 'epic.css',
		editor: 'editor.css',
		preview: 'moratab.css'
	},
	focusOnLoad: true,
	string: {
		togglePreview: 'پیش نمایش',
		toggleEdit: 'ویرایش متن',
		toggleFullscreen: 'تمام صفحه'
	},
	autogrow: true
}
var editor = new EpicEditor(opts).load();


// MathJax support

previewer = editor.getElement('previewer');
var mathjax = previewer.createElement('script');
mathjax.type = 'text/javascript';
mathjax.src = 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
previewer.body.appendChild(mathjax);

var config = previewer.createElement('script');
config.type = 'text/x-mathjax-config';
config.text = "MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']], displayMath: [['$$','$$']], processEscapes: true}});";
previewer.body.appendChild(config);

editor.on('preview', function() {
	editor.getElement('previewerIframe').contentWindow.eval('MathJax.Hub.Queue(["Typeset",MathJax.Hub]);');
});


// start in preview mode
editor.preview();

</script>
</body>
</html>
